## 踏み台サーバ

#踏み台サーバ

---

### 踏み台サーバとは？

目的のサーバにログインするための中継サーバのこと。
目的のサーバにログインするためには、踏み台サーバにログインし、踏み台サーバから SSH など目的のサーバにログインするといった接続を行う。

## メリット

### 踏み台サーバを用意することでセキュアに運用することができる。

ex) 目的のサーバに対して様々なところからアクセスを行える場合、いつ、どこで、誰がアクセスしているのか管理するのは大変工数のかかる作業になる。それを踏み台サーバを経由することで、誰が、いつ、どのリソースに対してアクセスしているか管理することができるようになる。

### 様々な場所でログインするための複数経路が存在することによる攻撃リスクを減らすことができる

# ssh agent

・ local -> 踏み台 -> 本サーバ　とアクセスする時踏み台サーバに秘密鍵を置くと危険！
なので ssh-agent を使うことにより local のみで鍵を持ちつつ本サーバにアクセスできること
「つまり」秘密鍵を一時的に保持してくれるツールが ssh-agent (https://laboradian.com/how-to-use-ssh-agent/)

### コマンド例

ssh-add -k ~/.ssh/id_rsa

# agent 転送

複数のサーバがある時に秘密鍵を保持したまま ssh 接続できる

- ssh エージェントに秘密鍵を登録する
  ssh-add -K ~/.ssh/id_rsa
