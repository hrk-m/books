# 2020/12

# 12/1

### linux

プロセスをバックグラウンドで起動 - &

```bash
# コマンドの末尾に &　をつける
$ sleep 10 &
```

バックグラウンドで起動してあるプロセスをフォアグラウンドに戻す - fg (foreground)

```bash
$ fg
# & デバックグラウンドで起動させていたものが実行される

ex)
$ sleep 50 &
# バックグラウンドで起動している
$ fg
# バックグラウンドに入れていた処理が実行されている間であれば
# fgコマンドでフォアグラウンドに戻すことができる(今回だと50秒間スリープさせている間)
```

コマンドのマニュアル表示 - man (manual)

```bash
$ man ps
# NAME
#      ps -- process status
# //
# 解説が表示される
```

# 12/6

### Container Orchestration(コンテナオーケストレーション)とは何?

- docker-compose などで複数のコンテナを管理することのメリットがあるか、ホストは一つしかない
- もし唯一のホストが故障してしまったら複数作成したコンテナも消滅してしまう
- ホストを大量生産して複数コンテナを複数ホストに振り分けようと考えたのがコンテナオーケストレーション

この技術を可能にしたのが Swarm や Kubernetes。

### Docker Swarm

#### Docker Swarm を Init する

```bash
$ docker swarm init
Swarm initialized: current node (k8hnkrgomcvk4azw8juql8onn) is now a manager.

To add a worker to this swarm, run the following command:

    docker swarm join --token SWMTKN-1-69otrkz1rhhdbliuj0ttr3baiu24arx5zemkwirmqwhnmcv89j-e1kt526xcdbaoh75iqsq2sorh 192.168.65.3:2377

To add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions.
```

#### サービスの作成

```
$ docker service create --name helloworld alpine:3.10 ping docker.com
```

#### Service をスケールイン

```bash
$ docker service scale helloworld=5
helloworld scaled to 5
overall progress: 5 out of 5 tasks
1/5: running   [==================================================>]
2/5: running   [==================================================>]
3/5: running   [==================================================>]
4/5: running   [==================================================>]
5/5: running   [==================================================>]
verify: Service converged
```

#### Service をスケールアウト

```bash
$ docker service scale helloworld=1
helloworld scaled to 1
overall progress: 1 out of 1 tasks
1/1: running   [==================================================>]
verify: Service converged
```

#### Service をローリングアップデート

```bash
$ docker service update --image alpine:3.11 helloworld
helloworld
overall progress: 1 out of 1 tasks
1/1: running
verify: Service converged
```

### Service の削除

```bash
$ docker service rm helloworld
```

# 12/10

## データベース論理設計の 1-13 で出てきた知らない単語

#### 関数従属性

- 〇〇が決まれば ×× と一つに決まる

  ex) 社員番号が決まれば誌名が決まる

#### 完全関数従属

- 部分関数従属しない状態のこと

#### 推移的関数従属

- A が決まれば B も決まる、B も決まれば C も決まる状態の時、A が決まれば C が決まる
